---
import NavbarContent from './shared/NavbarContent.astro';
import '@styles/global.css';

let starCountDisplay = '8.6k';

try {
	const response = await fetch('https://api.github.com/repos/gruntwork-io/terragrunt');
	if (response.ok) {
		const data = await response.json();
		const stars = data.stargazers_count;
		if (typeof stars === 'number') {
			starCountDisplay = (stars / 1000).toFixed(1) + 'k';
		}
	} else {
		console.error('Failed to fetch GitHub stars:', response.status, await response.text());
	}
} catch (error) {
	console.error('Error fetching GitHub stars:', error);
}
---

<div class="navbar">
	<NavbarContent
		starCountDisplay={starCountDisplay}
		showThemeToggle={true}
	/>
</div>
