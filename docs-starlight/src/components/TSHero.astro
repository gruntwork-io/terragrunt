---
import '@styles/global.css';
import { Image } from 'astro:assets';

import ColFeature from '@components/ColFeature.astro';
import Grunty2 from '@assets/grunty/grunty-2.svg';
import BackgroundPattern from '@assets/boxes-bg.svg';
import IconDriftDetection from '@assets/icons/drift-detection.svg';
import IconLabel from '@components/dv-IconButton.astro';
import IconPatcher from '@assets/icons/terragrunt-patcher.svg';
import IconPipelines from '@assets/icons/terragrunt-pipelines.svg';
import MobileHeroBackground from '@assets/hero-bkgnd.svg';
import Terminal from '@components/dv-Terminal.astro';
import ThreeColFeatures from './ThreeColFeatures.astro';
import Button from '@components/ui/Button.tsx';

import GithubIcon from '@assets/icons/github-icon.svg';
import GitlabIcon from '@assets/icons/gitlab-icon.svg';
import TerragruntIcon from '@assets/icons/terragrunt-icon.svg';
---

<section class="relative md:pt-22 bg-[var(--color-bg-dark)] gap-10 overflow-hidden">
    <!-- Background Image -->
    <Image
      src={BackgroundPattern}
      alt="Isometric background pattern with terragrunt logo"
      class="absolute bottom-[-12%] left-1/2 transform -translate-x-1/2 w-[100vw] h-auto z-0 pointer-events-none select-none"
      decoding="async"
      loading="eager"
      width={1440}
    />

    <div class="pt-[200px] md:pt-[100px] px-5 md:px-20 max-w-[1440px] mx-auto">

        <div class="max-w-[989px] flex flex-col gap-6">
          <div class="flex flex-col justify-start gap-5 w-full">
              <h1 class="text-4xl md:text-6xl text-white leading-12 m-0">
                Terragrunt Scale
              </h1>
              <p class="max-w-[650px] text-lg text-[var(--color-gray-1)]">
                  Get best-in-class tooling by the creators of Terragrunt to unlock its full potential, helping you efficiently deploy, and maintain your infrastructure without the grunt work.
              </p>
          </div>

          <div class="flex flex-col sm:flex-row sm:items-center w-full gap-4">
              <p class="font-mono text-xs text-white md:pr-4 m-0 select-none">BUILT FOR:</p>
              <div class="flex gap-1 uppercase">
                  <div class="bg-[var(--color-bg-dark)] select-none">
                    <IconLabel
                      src={GithubIcon}
                      alt="Github Icon"
                      text="Github"
                      eager
                      />
                  </div>
                  <div class="bg-[var(--color-bg-dark)] select-none">
                    <IconLabel
                      src={GitlabIcon}
                      alt="Gitlab Icon"
                      text="Gitlab"
                      eager
                    />
                  </div>
                  <div class="bg-[var(--color-bg-dark)] select-none">
                    <IconLabel
                      src={TerragruntIcon}
                      alt="Terragrunt"
                      text="Terragrunt"
                      eager
                    />
                  </div>
              </div>
          </div>
          <div class="flex gap-5 w-full pb-28 md:pb-20 z-10">
            <a href="/contact-tgs">
                <Button variant="primary" >Get Demo</Button>
            </a>
          </div>
        </div>

        <ThreeColFeatures>
          <ColFeature color="purple">
            <!-- Grunty Mobile -->
            <div class="lg:hidden absolute top-[-155px] lg:top-[-346px] h-[154px] lg:h-[345px] w-[161px] lg:w-[361px] right-0 z-10">
              <Image
                alt="Grunty"
                class="max-w-[100%] h-auto"
                src={Grunty2}
              />
            </div>

            <div class="secondary-button inline-flex !p-3 w-auto h-auto pointer-events-none mr-[13px]">
              <Image
                alt="Pipelines Icon"
                class={"aspect-[1/1] h-auto"}
                src={IconPipelines}
                height={20}
                width={20}
              />
            </div>
            <div class="relative flex flex-col z-20 select-none">
              <h5 class="text-white text-xl font-sans font-medium m-0 mb-2">Terragrunt Pipelines</h5>
              <p class="text-sm text-[var(--color-gray-1)] m-0">Automate your CI/CD</p>
            </div>
          </ColFeature>

          <ColFeature color="red">
            <div class="secondary-button inline-flex !p-3 w-auto h-auto pointer-events-none mr-[13px]">
              <Image
                alt="Pipelines Icon"
                class={"aspect-[1/1] h-auto"}
                src={IconDriftDetection}
                height={20}
                width={20}
              />
            </div>
            <div class="relative flex flex-col z-20 select-none">
              <h5 class="text-white text-xl font-sans font-medium m-0 mb-2">Terragrunt Drift Detection</h5>
              <p class="text-sm text-[var(--color-gray-1)] m-0">Reconcile infrastructure Drift</p>
            </div>
          </ColFeature>

          <ColFeature color="green">
            <div class="hidden lg:block absolute top-[-346px] right-0 z-10">
              <Image
                alt="Grunty"
                src={Grunty2}
                height={345}
                width={361}
              />
            </div>
            <div class="secondary-button inline-flex !p-3 w-auto h-auto pointer-events-none mr-[13px]">
              <Image
                alt="Pipelines Icon"
                class={"aspect-[1/1] h-auto"}
                src={IconPatcher}
                height={20}
                width={20}
              />
            </div>
            <div class="relative flex flex-col z-20 select-none">
              <h5 class="text-white text-xl font-sans font-medium m-0 mb-2">Terragrunt Patcher</h5>
              <p class="text-sm text-[var(--color-gray-1)] m-0">Keep your IaC up-to-date</p>
            </div>
          </ColFeature>
        </ThreeColFeatures>
    </div>

    <!-- Install Widget
    <div class="hidden md:block absolute bottom-0 md:left-10 lg:left-20 xl:left-40 2xl:left-96 z-200">
      <Terminal />
    </div>
    -->
</section>
