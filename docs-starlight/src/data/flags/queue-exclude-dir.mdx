---
name: queue-exclude-dir
description: Unix-style glob of directories to exclude from the queue of Units to run.
type: list(string)
env:
  - TG_QUEUE_EXCLUDE_DIR
---

import { Aside } from '@astrojs/starlight/components';

Specifies directories to exclude when running commands with [`all`](/docs/reference/cli/commands/run#all).

This flag can be specified multiple times to exclude multiple directories. When using the `TG_QUEUE_EXCLUDE_DIR` environment variable, specify the directories as a comma-separated list.

To learn more about how to use this flag, see the [Stacks](/docs/features/stacks/#the-run---all-command) feature documentation.

<Aside type="note">
When using `--queue-exclude-dir`, only the specified units are excluded, not their dependencies.

Dependencies of excluded units will still be run unless they are also explicitly excluded.
</Aside>

<Aside type="note">
The glob curly braces expansion behaves differently when using environment variables versus command line parameters.

Use `TG_QUEUE_EXCLUDE_DIR="foo/module,bar/module"` instead of `TG_QUEUE_EXCLUDE_DIR="{foo,bar}/module"`.
</Aside>
